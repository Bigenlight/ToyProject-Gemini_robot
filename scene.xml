<mujoco model="panda scene">
  <include file="panda.xml"/>
  <option cone="elliptic" impratio="200" integrator="implicitfast"/>
  <statistic center="0.3 0 0.4" extent="1"/>

  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.3 0.3 0.3" specular="0 0 0"/>
    <rgba haze="0.15 0.25 0.35 1"/>
    <global azimuth="120" elevation="-20"/>
  </visual>

  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.3 0.5 0.7" rgb2="0 0 0" width="512" height="3072"/>

    <!-- <texture type="skybox" file="pngwing.com.png" gridsize="3 4" gridlayout=".U..LFRB.D.."/> -->

    <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3"
      markrgb="0.8 0.8 0.8" width="300" height="300"/>
    <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="5 5" reflectance="0.2"/>

      <!-- 카드 텍스쳐 추가 -->
    <mesh name="card" file="card.obj" scale="1 1 1"/>
    <texture type="2d" file="assets/2_of_hearts.png"/>
    <material name="2_of_hearts" texture="2_of_hearts"/>
    <texture type="2d" file="assets/5_of_spades.png"/>
    <material name="5_of_spades" texture="5_of_spades"/>
  </asset>

    
  <worldbody>
    <light pos="0 0 1.5" dir="0 0 -1" directional="true"/>
    <geom name="floor" size="0 0 0.05" type="plane" material="groundplane"/>

    <!-- 고정카메라 추가 -->
    <camera name="front_cam" pos="1.651 -0.033 1.785" xyaxes="0.003 1.000 0.000 -0.740 0.002 0.672"/>

    <!-- 측면 카메라 -->
    <camera name="side_cam" pos="0.008 -1.911 0.876" xyaxes="1.000 -0.020 -0.000 0.005 0.264 0.964"/>

    
    <body name="red_cube" pos="0.6 0 0.1">
      <freejoint/> <geom type="box" size="0.02 0.02 0.02" rgba="1 0 0 1" mass="0.5" condim="4" friction="8.0 0.005 0.0001" solref="0.01 1"/>
    </body>

    <body name="blue_cube" pos="0.6 0.4 0.02">
      <geom type="box" size="0.02 0.02 0.02" rgba="0 0 1 1" mass="1" condim="4" friction="8.0 0.005 0.0001" solref="0.01 1"/>
    </body>

    <body name="white_cube" pos="0.2 0.0 0.02">
      <geom type="box" size="0.02 0.02 0.02" rgba="1 1 1 1" mass="1" condim="4" friction="8.0 0.005 0.0001" solref="0.01 1"/>
    </body>

    <body pos="0.4 -0.2 0.0" euler="0 0 0">
      <geom type="mesh" mesh="card" mass="1.84e-4" fluidshape="ellipsoid" material="2_of_hearts"/>
    </body>

    <!-- <body pos="0.4 0.2 0.0" euler="0 0 0">
      <geom type="mesh" mesh="card" mass="1.84e-4" fluidshape="ellipsoid" material="5_of_spades"/>

    </body> -->

    <!-- 
    <body name="ball1" pos="0.7 0.0 0.4">
      <freejoint/>
      <geom type="sphere" name="ball1" size="0.033" condim="3"
       friction="1 .03 .003" rgba="0 0.6 0 1" contype="1" conaffinity="1" solref="0.01 1" density="600"/>
    </body>

    <body name="ball2" pos="0.5 0.2 0.8">
      <freejoint/>
      <geom type="sphere" name="ball2" size="0.033" condim="3"
       friction="1 .03 .003" rgba="0.6 0.6 0 1" contype="1" conaffinity="1" solref="0.01 1" density="600"/>
    </body> -->

  </worldbody>

  <!-- <key
  time="4.82"
  qpos="1.78735e-20 0.00126288 -3.32926e-07 -0.0696243 -2.28695e-05 0.192135 0.00080101 -5.53841e-09 2.91266e-07 0.5 3.18073e-17 0.00989224 1 3.15573e-17 8.95117e-18 3.06786e-17 0.7 5.70956e-18 0.0327698 1 3.72949e-16 0 0 0.5 0.2 0.0327698 1 1.63469e-16 0 0"
  qvel="1.1516e-19 3.34726e-17 1.48825e-19 -3.4521e-15 4.49685e-19 -4.41716e-15 -1.0087e-16 5.36394e-18 -7.79781e-18 -5.05151e-18 3.33067e-18 2.49816e-16 -8.19657e-16 -3.90313e-17 2.01662e-16 -3.38035e-18 3.38035e-18 6.66466e-16 -4.85013e-16 -4.85013e-16 3.80526e-32 9.98739e-19 4.60956e-19 -8.34983e-16 3.30691e-17 -1.47911e-31 -1.53664e-31"
  ctrl="0 0 0 0 0 0 0 0"
/> -->
    <!-- <keyframe>
    <key name="home"   qpos="1.78735e-20 0.00126288 -3.32926e-07 -0.0696243 -2.28695e-05 0.192135 0.00080101 -5.53841e-09 2.91266e-07 0.5 3.18073e-17 0.00989224 1 3.15573e-17 8.95117e-18 3.06786e-17 0.7 5.70956e-18 0.0327698 1 3.72949e-16 0 0 0.5 0.2 0.0327698 1 1.63469e-16 0 0"
  qvel="1.1516e-19 3.34726e-17 1.48825e-19 -3.4521e-15 4.49685e-19 -4.41716e-15 -1.0087e-16 5.36394e-18 -7.79781e-18 -5.05151e-18 3.33067e-18 2.49816e-16 -8.19657e-16 -3.90313e-17 2.01662e-16 -3.38035e-18 3.38035e-18 6.66466e-16 -4.85013e-16 -4.85013e-16 3.80526e-32 9.98739e-19 4.60956e-19 -8.34983e-16 3.30691e-17 -1.47911e-31 -1.53664e-31"
 ctrl="0 0 0 -1.57079 0 1.57079 -0.7853 255"/>
  </keyframe> -->

  <!-- 기본  포지션 -->
      <!-- <keyframe>
    <key name="home" qpos="0 0 0 -1.57079 0 1.57079 0.732 0.04 0.04" ctrl="0 0 0 -1.57079 0 1.57079 0.732 255"/>
  </keyframe> -->
  
  <!-- 잡기 + 붉은 큐브 위 -->
  <!-- <keyframe>
  <key name="home"
       qpos="0 0 0 -1.57079 0 1.57079 -0.7853 0.04 0.04 0.5 0 0.5 1 0 0 0"
       ctrl="0 0 0 -1.57079 0 1.57079 -0.7853 255"/>
</keyframe> -->

 <!-- 빨간 큐브 집기 직전 -->
      <!-- <keyframe>
    <key name="home" qpos="-0.000300203 0.647862 0.000165561 -2.02332 -0.000452519 2.65572 0.785472 0.0199556 0.0199622 0.599988 -6.36194e-05 0.0198718 1 8.26014e-07 -0.000281401 0.000367354"
  ctrl="-0.000405655 0.639369 0.000226513 -2.02114 -0.000325482 2.66016 0.785463 0"/>
  </keyframe> -->

</mujoco>
